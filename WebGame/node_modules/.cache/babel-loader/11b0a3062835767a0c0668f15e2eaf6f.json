{"ast":null,"code":"var _jsxFileName = \"/home/stud5c/Scrivania/KikisKey/WebGame/src/Components/MisteriosoScreen/MisteriosoScreen.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport \"./MisteriosoScreen.css\";\nimport React, { useContext, useRef, useState } from \"react\";\nimport { gameContext } from \"../../Hooks/useContext\";\nimport usePlayerItemsManager from \"../../Hooks/usePlayerItemsManager\";\nimport useToast from \"../../Hooks/useToast\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MisteriosoScreen = () => {\n  _s();\n\n  const {\n    misteriosoItems,\n    setMisteriosoItems\n  } = useContext(gameContext);\n  const [popupItemData, setPopupItemData] = useState([false, -1]); //[showPopItem, itemId]\n\n  const {\n    showToast\n  } = useToast();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"contenitoreMisteriosoScreen\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"titoloMisteriosoScreen\",\n      children: \"TI OFFRO...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"misteriosoOfferte\",\n      children: misteriosoItems.map((obj, index) => {\n        return /*#__PURE__*/_jsxDEV(ItemBox, {\n          index: index,\n          itemScambio: obj.itemScambio,\n          itemOfferto: obj.itemOfferto,\n          setPopupItemData: setPopupItemData\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), popupItemData[0] ? /*#__PURE__*/_jsxDEV(PopupItem, {\n      misteriosoItems: misteriosoItems,\n      popupItemData: popupItemData,\n      setPopupItemData: setPopupItemData,\n      showToast: showToast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MisteriosoScreen, \"P6janRagF31Y/TLGMR3msnifg7Y=\", false, function () {\n  return [useToast];\n});\n\n_c = MisteriosoScreen;\nexport default MisteriosoScreen;\n\nconst ItemBox = props => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"itemBox offerta\" + Number(props.index + 1),\n    onClick: () => props.setPopupItemData([true, props.index]),\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"/img/items/\" + props.itemOfferto + \".png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = ItemBox;\n\nconst PopupItem = props => {\n  _s2();\n\n  const {\n    aggiungiItem,\n    rimuoviItem,\n    checkItem\n  } = usePlayerItemsManager();\n  const {\n    setShowMisteriosoScreen\n  } = useContext(gameContext);\n  const imgItemOffertoRef = useRef(null);\n\n  const chiudiPopup = () => {\n    props.setPopupItemData([false, -1]);\n  };\n\n  const scambia = () => {\n    console.log(imgItemOffertoRef.current.src);\n\n    if (imgItemOffertoRef.current.src === \"http://localhost:3000/img/items/Martello.png\") {\n      if (checkItem(\"Patate\")) {\n        rimuoviItem(\"Patate\");\n        aggiungiItem(\"Martello\");\n        props.showToast(\"Ottenuto martello!\");\n      }\n    }\n\n    if (imgItemOffertoRef.current.src === \"http://localhost:3000/img/items/ID.png\") {\n      if (checkItem(\"Badge\") && checkItem(\"Moneta Epica\")) {\n        rimuoviItem(\"Badge\");\n        rimuoviItem(\"Moneta Epica\");\n        aggiungiItem(\"ID\");\n        props.showToast(\"Ottenuto ID preside!\");\n      }\n    }\n\n    setShowMisteriosoScreen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popupItemContainer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popupItemContenuto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"itemBox popupScambio\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/img/items/\" + props.misteriosoItems[props.popupItemData[1]].itemScambio + \".png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popupMano\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/img/misc/mano.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"itemBox popupOfferta\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          ref: imgItemOffertoRef,\n          src: \"/img/items/\" + props.misteriosoItems[props.popupItemData[1]].itemOfferto + \".png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popupBtns\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: scambia,\n          children: \"Scambia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: chiudiPopup,\n          children: \"Indietro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(PopupItem, \"bsJ4YFw60GnAwz5JylHHNLJ7jnw=\", false, function () {\n  return [usePlayerItemsManager];\n});\n\n_c3 = PopupItem;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"MisteriosoScreen\");\n$RefreshReg$(_c2, \"ItemBox\");\n$RefreshReg$(_c3, \"PopupItem\");","map":{"version":3,"sources":["/home/stud5c/Scrivania/KikisKey/WebGame/src/Components/MisteriosoScreen/MisteriosoScreen.js"],"names":["React","useContext","useRef","useState","gameContext","usePlayerItemsManager","useToast","MisteriosoScreen","misteriosoItems","setMisteriosoItems","popupItemData","setPopupItemData","showToast","map","obj","index","itemScambio","itemOfferto","ItemBox","props","Number","PopupItem","aggiungiItem","rimuoviItem","checkItem","setShowMisteriosoScreen","imgItemOffertoRef","chiudiPopup","scambia","console","log","current","src"],"mappings":"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","sourcesContent":["import \"./MisteriosoScreen.css\";\nimport React, { useContext, useRef, useState } from \"react\";\nimport { gameContext } from \"../../Hooks/useContext\";\nimport usePlayerItemsManager from \"../../Hooks/usePlayerItemsManager\";\nimport useToast from \"../../Hooks/useToast\";\n\nconst MisteriosoScreen = () => {\n  const { misteriosoItems, setMisteriosoItems } = useContext(gameContext);\n  const [popupItemData, setPopupItemData] = useState([false, -1]); //[showPopItem, itemId]\n  const { showToast } = useToast();\n\n  return (\n    <div className=\"contenitoreMisteriosoScreen\">\n      <p className=\"titoloMisteriosoScreen\">TI OFFRO...</p>\n      <div className=\"misteriosoOfferte\">\n        {misteriosoItems.map((obj, index) => {\n          return (\n            <ItemBox\n              key={index}\n              index={index}\n              itemScambio={obj.itemScambio}\n              itemOfferto={obj.itemOfferto}\n              setPopupItemData={setPopupItemData}\n            />\n          );\n        })}\n      </div>\n      {popupItemData[0] ? (\n        <PopupItem\n          misteriosoItems={misteriosoItems}\n          popupItemData={popupItemData}\n          setPopupItemData={setPopupItemData}\n          showToast={showToast}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nexport default MisteriosoScreen;\n\nconst ItemBox = (props) => {\n  return (\n    <div\n      className={\"itemBox offerta\" + Number(props.index + 1)}\n      onClick={() => props.setPopupItemData([true, props.index])}\n    >\n      <img src={\"/img/items/\" + props.itemOfferto + \".png\"} />\n    </div>\n  );\n};\n\nconst PopupItem = (props) => {\n  const { aggiungiItem, rimuoviItem, checkItem } = usePlayerItemsManager();\n  const { setShowMisteriosoScreen } = useContext(gameContext);\n  const imgItemOffertoRef = useRef(null);\n\n  const chiudiPopup = () => {\n    props.setPopupItemData([false, -1]);\n  };\n\n  const scambia = () => {\n    console.log(imgItemOffertoRef.current.src);\n    if (\n      imgItemOffertoRef.current.src ===\n      \"http://localhost:3000/img/items/Martello.png\"\n    ) {\n      if (checkItem(\"Patate\")) {\n        rimuoviItem(\"Patate\");\n        aggiungiItem(\"Martello\");\n        props.showToast(\"Ottenuto martello!\");\n      }\n    }\n    if (\n      imgItemOffertoRef.current.src === \"http://localhost:3000/img/items/ID.png\"\n    ) {\n      if (checkItem(\"Badge\") && checkItem(\"Moneta Epica\")) {\n        rimuoviItem(\"Badge\");\n        rimuoviItem(\"Moneta Epica\");\n        aggiungiItem(\"ID\");\n        props.showToast(\"Ottenuto ID preside!\");\n      }\n    }\n\n    setShowMisteriosoScreen(false);\n  };\n\n  return (\n    <div className=\"popupItemContainer\">\n      <div className=\"popupItemContenuto\">\n        <div className=\"itemBox popupScambio\">\n          <img\n            src={\n              \"/img/items/\" +\n              props.misteriosoItems[props.popupItemData[1]].itemScambio +\n              \".png\"\n            }\n          />\n        </div>\n        <div className=\"popupMano\">\n          <img src=\"/img/misc/mano.png\" />\n        </div>\n        <div className=\"itemBox popupOfferta\">\n          <img\n            ref={imgItemOffertoRef}\n            src={\n              \"/img/items/\" +\n              props.misteriosoItems[props.popupItemData[1]].itemOfferto +\n              \".png\"\n            }\n          />\n        </div>\n        <div className=\"popupBtns\">\n          <p onClick={scambia}>Scambia</p>\n          <p onClick={chiudiPopup}>Indietro</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}